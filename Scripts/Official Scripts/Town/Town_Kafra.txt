//========================================================================================
// »» The Fusion Project ««
// Copyright (c) 2004, Cobax Information Systems
// http://fusion.cobax.net/
// ---------------------------------------------------------------------------------------
//
// Kafra Personnels - Non Player Character Locations
//
// - Kafra Personnel -> yuno: 159,207
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> amatsu: 120,163
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> aldebaran: 144,118
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> prontera: 248,42
//   Swordman's Guild Old Kafra, Save, Teleport and Merchant Quest Service.
//
// - Kafra Personnel -> prontera: 146,89
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> prontera: 282,200
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> prontera: 151,29
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> prontera: 29,207
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> prt_fild01: 198,47
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> prt_fild05: 290,224
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> izlude: 136,88
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> izlu2dun: 106,58
//   Storage, Teleport, Rent Cart, Kafra Pass, Merchant Quest and More services.
//
// - Kafra Personnel -> geffen: 120,62
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> geffen: 203,123
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> morocc: 156,97
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> morocc: 160,258
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> moc_ruins: 59,157
//   Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> alberta: 28,229
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> alberta: 113,60
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> alb2trea: 59,69
//   Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> payon: 99,116
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> pay_arche: 55,123
//   Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> cmd_in02: 146,180
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> cmd_fild07: 136,134
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> comodo: 195,150
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> gef_fild10: 72,336
//   Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> umbala: 128,133
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> amatsu: 102,149
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> yuno: 278,221
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> yuno: 328,108
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> yuno: 151,187
//   Save, Storage, Teleport, Rent Cart, Kafra Pass and More services.
//
// - Kafra Personnel -> mjolnir_02: 82,362
//   Storage, Teleport, Rent Cart, KafraPass
//
//========================================================================================

yuno.gat,159,207,4	script	"Kafra Personnel"	114,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome to Kafra Corp.";
	mes "We will stay with you";
	mes "wherever you go.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How can I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage",L_MENU_2,"Use Teleport Service",L_MENU_3,"Rent a Cart",L_MENU_4,"Use Kafra Pass",L_MENU_5,"Other Information Check",L_MENU_6,"Cancel",L_MENU_7;
	L_MENU_1:
		save "yuno",157,207;
		mes "[Kafra Personnel]";
		mes "Your respawn point has saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra Services.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "I am sorry but you have to be at least";
			mes "Novice level 6 if you want to use the storage.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "Dear. you don't have enough Money.";
				mes "The Storage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please choose the destination.";
		next;
		menu "Izlude -> 2000 z",L_MENU_3_1,"Geffen -> 1400 z",L_MENU_3_2,"Payon -> 1700 z",L_MENU_3_3,"Morroc -> 1800 z",L_MENU_3_4,"Comodo -> 2000 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 2000,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 2000,0;
				set KF_PIT += 90;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1400,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1400,0;
				set KF_PIT += 140;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1700,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1800,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 2000,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 2000,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "comodo",209,143;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
		   	mes "[Kafra Personnel]";
			mes "In use of present or Kafra Pass";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
   			   	mes "[Kafra Personnel]";
		   		mes "Dear you need at least 1 passport.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
	   		mes "[Kafra Personnel]";
			mes "Now you are using a Kapra's passport.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Do you want to show all Kafra being displayed on the mini map ?";
			next;
			menu "yes.",-,"no.",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
   			mes "[Kafra Personnel]";
		   	mes "It is a mini map display point.";
		   	mes "Kafra is.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "coupler [ us ] service being more perfect";
		mes "-- service and management business -- aiming --";
		mes "-- a visitor can use in comfort -- as --";
		mes "-- it is always doing its -- best --";
		mes "-- you use coupler service -- obtaining --";
		mes "Thank you.";
 L_EXIT:
		cutin "kafra_01",255;
		close;
}

amatsu.gat,120,163,4	script	"Kafra Personnel"	117,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_01",2;
	mes "[Kafra Personnel]";
	mes "Welcome to Kafra Corp.";
	mes "We will stay with you";
	mes "wherever you go.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How can I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage",L_MENU_2,"Use Teleport Service",L_MENU_3,"Rent a Cart",L_MENU_4,"Use Kafra Pass",L_MENU_5,"Other Information Check",L_MENU_6,"Cancel",L_MENU_7;
	L_MENU_1:
		save "amatsu",116,160;
		mes "[Kafra Personnel]";
		mes "Your respawn point has saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra Services.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "I am sorry but you have to be at least";
			mes "Novice level 6 if you want to use the storage.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "Dear. you don't have enough Money.";
				mes "The Storage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please choose the destination.";
		next;
		menu "Izlude -> 900 z",L_MENU_3_1,"Geffen -> 1400 z",L_MENU_3_2,"Payon -> 1700 z",L_MENU_3_3,"Morroc -> 1800 z",L_MENU_3_4,"Comodo -> 2000 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 900,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 900,0;
				set KF_PIT += 90;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1400,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1400,0;
				set KF_PIT += 140;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1700,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1800,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 2000,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 2000,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "comodo",209,143;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
		   	mes "[Kafra Personnel]";
			mes "In use of present or Kafra Pass";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
   			   	mes "[Kafra Personnel]";
		   		mes "Dear you need at least 1 passport.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
	   		mes "[Kafra Personnel]";
			mes "Now you are using a Kapra's passport.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Do you want to show all Kafra being displayed on the mini map ?";
			next;
			menu "yes.",-,"no.",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
   			mes "[Kafra Personnel]";
		   	mes "It is a mini map display point.";
		   	mes "Kafra is.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "coupler [ us ] service being more perfect";
		mes "-- service and management business -- aiming --";
		mes "-- a visitor can use in comfort -- as --";
		mes "-- it is always doing its -- best --";
		mes "-- you use coupler service -- obtaining --";
		mes "Thank you.";
 L_EXIT:
		cutin "kafra_01",255;
		close;
}

aldebaran.gat,144,118,4	script	"Kafra Personnel"	117,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_01",2;
	mes "[Kafra Personnel]";
	mes "Welcome to Kafra Corp.";
	mes "We will stay with you";
	mes "wherever you go.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How can I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage",L_MENU_2,"Use Teleport Service",L_MENU_3,"Rent a Cart",L_MENU_4,"Use Kafra Pass",L_MENU_5,"Other Information Check",L_MENU_6,"Cancel",L_MENU_7;
	L_MENU_1:
		save "aldebaran",143,110;
		mes "[Kafra Personnel]";
		mes "Your respawn point has saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra Services.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "I am sorry but you have to be at least";
			mes "Novice level 6 if you want to use the storage.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "Dear. you don't have enough Money.";
				mes "The Storage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please choose the destination.";
		next;
		menu "Izlude -> 1800 z",L_MENU_3_1,"Geffen -> 1200 z",L_MENU_3_2,"Juno -> 1200 z",L_MENU_3_3,"Coal Mine -> 1700 z",L_MENU_3_4,"Cancel",L_MENU_3_5;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1800,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1200,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_3:
				warp "yuno",157,167;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1700,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_4:
				warp "mjolnir_02",79,361;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
		   	mes "[Kafra Personnel]";
			mes "In use of present or Kafra Pass";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
   			   	mes "[Kafra Personnel]";
		   		mes "Dear you need at least 1 passport.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
	   		mes "[Kafra Personnel]";
			mes "Now you are using a Kapra's passport.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Do you want to show all Kafra being displayed on the mini map ?";
			next;
			menu "yes.",-,"no.",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
   			mes "[Kafra Personnel]";
		   	mes "It is a mini map display point.";
		   	mes "Kafra is.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "coupler [ us ] service being more perfect";
		mes "-- service and management business -- aiming --";
		mes "-- a visitor can use in comfort -- as --";
		mes "-- it is always doing its -- best --";
		mes "-- you use coupler service -- obtaining --";
		mes "Thank you.";
 L_EXIT:
		cutin "kafra_01",255;
		close;
}

prontera.gat,248,42,0	script	"Kafra Personnel"	116,{
	cutin "kafra_02",2;
	check 1ST_JOB_QUEST != 1,-,L_START_1;
		mes "[Kafra Personnel]";
		mes "Welcome, this is Kafra Corp.";
		mes "Please note that the";
		mes "Swordman Guild has moved";
		mes "to Izlude.";
		next;
		mes "[Kafra Personnel]";
		mes "Kafra Corp does provides a";
		mes "teleport service from here to";
		mes "Izlude for 600 zeny.";
		next;
		menu "Use it",-,"Use Kafra Coupon",L_MENU_1,"End",L_MENU_2;
			check Zeny < 600,-,L_ROOT_1;
			mes "[Kafra Personnel]";
			mes "You don't have enough money.";
			goto L_EXIT;
		L_ROOT_1:
			set Zeny -= 600,0;
			set KF_PIT += 60;
			warp "izlude",94,103;
		L_MENU_1:
			checkitem 1084,1,L_ROOT_2,-;
			mes "[Kafra Personnel]";
			mes "So, you would like to use a Kafra Coupon.";
			mes "... and the coupon, where is it?";
			goto L_EXIT;
		L_ROOT_2:
			delitem 1084,1;
			warp "izlude",94,103;
		L_MENU_2:
			mes "[Kafra Personnel]";
			mes "Thank you very much.";
			goto L_EXIT;
	L_START_1:
		check JOB_MERCHANT_Q <= 8,-,L_SUB_2;
		check JOB_MERCHANT_Q >= 7,-,L_SUB_2;
			check NOV_3_MERCHANT = 0,-,L_EXIT;
			mes "[Kafra Personnel]";
			mes "Good afternoon.";
			mes "Do you have a business here?";
			goto L_EXIT;
	L_SUB_2:
		check JOB_MERCHANT_Q <= 6,-,L_SUB_2;
		check JOB_MERCHANT_Q >= 5,-,L_SUB_2;
		mes "[Kafra Personnel]";
		mes "You're here to deliver a package from the Merchant Guild?";
		mes "Great! Please bring it here...";
			checkitem 1081,1,L_SUB_3,-;
			checkitem 1082,1,L_SUB_3,-;
			checkitem 1091,1,L_SUB_3,L_SUB_4;
	L_SUB_3:
			mes "What a heavy box ...";
			mes "Thank you for carrying it all the way.";
			goto L_SUB_5;
	L_SUB_4:
			mes "Um ... where's the package..?";
			goto L_EXIT;
	L_SUB_5:
		next;
		mes "[Kafra Personnel]";
		mes "I'll need to check the package delivery number.";
		mes "Let's see ....";
		check JOB_MERCHANT_Q2 = 1,-,L_SUB_7;
			checkitem 1081,1,-,L_START_2;
			mes "2485741... yes,";
			mes "This is the package we ordered.";
			mes "You'll need a delivery confirmation receipt right?";
			mes "I'll issue one now.";
			delitem 1081,1;
			additem 1073,1;
			goto L_START_3;
	L_SUB_7:
		check JOB_MERCHANT_Q2 = 2,-,L_START_2;
			checkitem 1082,1,-,L_START_2;
			mes "2328137...yes.";
			mes "This is the package we ordered.";
			mes "You'll need a delivery confirmation receipt right?";
			mes "I'll issue one now.";
			delitem 1082,1;
			additem 1074,1;
			goto L_START_3;
	L_START_2:
		mes "......Huh?";
		mes "This number ...?";
		next;
		mes "[Kafra Personnel]";
		mes "Um, this package is not for this destination.";
		mes "The numbers for packages from the Merchant Guild";
		mes "for this location are 2485741 and 2328137.";
		mes "Could there have been a mistake?";
		goto L_EXIT;
	L_START_3:
		check JOB_MERCHANT_Q = 6,-,L_SUB_3_1;
		set JOB_MERCHANT_Q = 8;
		goto L_SUB_3_2;
	L_SUB_3_1:
		set JOB_MERCHANT_Q = 7;
	L_SUB_3_2:
		set 1ST_JOB_QUEST = 5;
		next;
		mes "[Kafra Personnel]";
		mes "It must have been tough coming such a long way here.";
	L_EXIT:
		cutin "kafra_02",255;
		close;
}

prontera.gat,146,89,6	script	"Kafra Personnel"	117,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_01",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"Quit",L_MENU_7;
	L_MENU_1:
		save "prontera",116,72;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Izlude -> 600 z",L_MENU_3_1,"Geffen -> 1200 z",L_MENU_3_2,"Payon -> 1200 z",L_MENU_3_3,"Morroc -> 1200 z",L_MENU_3_4,"Alberta -> 1800 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 600,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 600,0;
				set KF_PIT += 60;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1200,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1200,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 1800,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "alberta",117,56;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_01",255;
		close;
}

prontera.gat,282,200,2	script	"Kafra Personnel"	114,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"Quit",L_MENU_7;
	L_MENU_1:
		menu "Save outside town",-,"Save inside town",L_MENU_1_1;
			save "prt_fild06",33,192;
			goto L_SUB_1_1;
	L_MENU_1_1:
			save "prontera",279,200;
	L_SUB_1_1:
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Izlude -> 600 z",L_MENU_3_1,"Geffen -> 1200 z",L_MENU_3_2,"Payon -> 1200 z",L_MENU_3_3,"Morroc -> 1200 z",L_MENU_3_4,"Alberta -> 1800 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 600,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 600,0;
				set KF_PIT += 60;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1200,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1200,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 20==1800,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "alberta",117,56;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_04",255;
		close;
}

prontera.gat,151,29,0	script	"Kafra Personnel"	115,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_03",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"Quit",L_MENU_7;
	L_MENU_1:
		menu "Save outside town",-,"Save inside town",L_MENU_1_2;
			save "prt_fild08",170,368;
			goto L_SUB_1_1;
	L_MENU_1_2:
			save "prontera",151,33;
	L_SUB_1_1:
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Izlude -> 600 z",L_MENU_3_1,"Geffen -> 1200 z",L_MENU_3_2,"Payon -> 1200 z",L_MENU_3_3,"Morroc -> 1200 z",L_MENU_3_4,"Alberta -> 1800 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 600,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 600,0;
				set KF_PIT += 60;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1200,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1200,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 1800,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "alberta",117,56;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_03",255;
		close;
}

prontera.gat,29,207,6	script	"Kafra Personnel"	113,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_05",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"Quit",L_MENU_7;
	L_MENU_1:
		menu "Save outside town",-,"Save inside town",L_MENU_1_3;
			save "prt_fild05",368,205;
			goto L_SUB_1_1;
	L_MENU_1_3:
			save "prontera",33,207;
	L_SUB_1_1:
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Izlude -> 600 z",L_MENU_3_1,"Geffen -> 1200 z",L_MENU_3_2,"Payon -> 1200 z",L_MENU_3_3,"Morroc -> 1200 z",L_MENU_3_4,"Alberta -> 1800 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 600,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 600,0;
				set KF_PIT += 60;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1200,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1200,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 1800,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "alberta",117,56;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_05",255;
		close;
}

prt_fild01.gat,198,47,0	script	"Kafra Personnel"	112,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_06",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Quit",L_MENU_7;
	L_MENU_1:
		save "prt_fild01",198,51;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
			goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Izlude -> 600 z",L_MENU_3_1,"Geffen -> 1200 z",L_MENU_3_2,"Payon -> 1200 z",L_MENU_3_3,"Morroc -> 1200 z",L_MENU_3_4,"Alberta -> 1800 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 600,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 600,0;
				set KF_PIT += 60;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1200,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1200,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 1800,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "alberta",117,56;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_06",255;
		close;
}

prt_fild05.gat,290,224,4	script	"Kafra Personnel"	114,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
	L_MENU_1:
		save "prt_fild05",274,244;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 30,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 30 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 30,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_04",255;
		close;
}

izlude.gat,136,88,4	script	"Kafra Personnel"	115,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_03",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"Quit",L_MENU_7;
	L_MENU_1:
		menu "Save outside town",-,"Save inside town",L_MENU_1_3;
			save "prt_fild08",350,202;
			goto L_SUB_1_1;
	L_MENU_1_3:
			save "izlude",94,103;
	L_SUB_1_1:
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
			goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 30,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 30 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 30,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Morroc -> 1200 z",L_MENU_3_1,"Payon -> 1200 z",L_MENU_3_2,"Geffen -> 1200 z",L_MENU_3_3,"Al de Baran -> 1800z",L_MENU_3_4,"Cancel",L_MENU_3_5;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "morocc",156,46;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "payon",69,100;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1200,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_3:
				warp "geffen",120,39;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1800,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_3:
				warp "aldebaran",143,110;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,136,88,1,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,136,88,1,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_03",255;
		close;
}

izlu2dun.gat,106,58,4	script	"Kafra Personnel"	116,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_02",2;
	check 1ST_JOB_QUEST != 4,-,L_QUEST;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra service is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
//	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
	menu "Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
//	L_MENU_1:
//		save "izlu2dun",87,170;
//		mes "[Kafra Personnel]";
//		mes "Your position has been saved.";
//		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
//			mes "Thank you for using Kafra.";
//			goto L_EXIT;
//	L_SUB_1_2:
//			next;
//			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
			goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 35,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 35 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 35,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
		goto L_EXIT;
 L_QUEST:
	check JOB_MERCHANT_Q <= 8,-,L_Q_START_1;
	check JOB_MERCHANT_Q >= 7,-,L_Q_START_1;
		checkitem 1072,1,-,L_EXIT;
			mes "[Kafra Personnel]";
		mes "Yes, how can I help you?";
			goto L_EXIT;
 L_Q_START_1:
	check JOB_MERCHANT_Q <= 6,-,L_EXIT;
	check JOB_MERCHANT_Q >= 5,-,L_EXIT;
		mes "[Kafra Personnel]";
		mes "Eh? You're from the Merchant Guild?";
		mes "... Ah! That's right! How could I forget~";
		mes "Okay, please put it here ...";
			checkitem 1081,1,L_Q_START_2,-;
			checkitem 1082,1,L_Q_START_2,-;
			checkitem 1091,1,L_Q_START_2,-;
		mes "There should only be 1 box delivered here but ...";
		goto L_EXIT;
 L_Q_START_2:
	mes "Good job bringing it here, thanks~";
	next;
	mes "[Kafra Personnel]";
	mes "In order to issue a delivery confirmation receipt,";
	mes "I'll need to check the package delivery number.";
	next;
		check JOB_MERCHANT_Q2 = 7,-,L_Q_SUB_1;
			checkitem 1081,1,-,L_EXIT;
				mes "Let's see ... 3012685 ... Yup!";
				mes "This is the package we ordered.";
				mes "Here's the delivery confirmation receipt.";
				delitem 1081,1;
				additem 1079,1;
				next;
				goto L_Q_START_3;
	L_Q_SUB_1:
		check JOB_MERCHANT_Q2 = 8,-,L_Q_SUB_2;
			checkitem 1082,1,-,L_EXIT;
				mes "Let's see ... 3543625 ... Yup!";
				mes "This is the package we ordered.";
				mes "Here's the delivery confirmation receipt.";
				delitem 1082,1;
				additem 1080,1;
				next;
				goto L_Q_START_3;
	L_Q_SUB_2:
		mes "[Kafra Personnel]";
		mes "...... ? ..... Um ....";
		mes "Could you have made a mistake with the destination?";
		mes "The numbers for packages from the Merchant Guild";
		mes "for this location are 3318702 and 3543625.";
		goto L_EXIT;
 L_Q_START_3:
	check JOB_MERCHANT_Q = 6,-,L_Q_SUB_3;
	set JOB_MERCHANT_Q = 8;
	goto L_Q_SUB_4;
	L_Q_SUB_3:
		set JOB_MERCHANT_Q = 7;
	L_Q_SUB_4:
		set 1ST_JOB_QUEST = 5;
		checkitem 1072,1,-,L_Q_START_4;
			delitem 1072,1;
			set NOV_3_MERCHANT = 11;
			next;
		mes "[Kafra Personnel]";
		mes "Oh my! A letter from Chief Mansu? Kyaa~";
		mes "Thank you so much~";
		mes "I knew this letter was coming, but I";
		mes "never thought it would be this fast.";
		next;
 L_Q_START_4:
	mes "[Kafra Personnel]";
	mes "You did a great job bringing this here from so far.";
	mes "Although it's such a trivial thing, thank you!";
	mes "I look forward to serving you next time!";
		random @MERCHANT_JOB2,2;
		check @MERCHANT_JOB2 = 0,-,L_Q_START_5;
			additem 513,3;
			goto L_EXIT;
 L_Q_START_5:
		additem 512,3;
 L_EXIT:
		cutin "kafra_02",255;
		close;
}

geffen.gat,120,62,2	script	"Kafra Personnel"	115,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_03",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"End",L_MENU_7;
	L_MENU_1:
		save "geffen",120,38;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
			goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 30,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 30 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 30,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Prontera -> 1200 z",L_MENU_3_1,"Al de Baran -> 1200 z",L_MENU_3_2,"Orc Dungeon -> 1700 z",L_MENU_3_3,"Coal Mine -> 1700 z",L_MENU_3_4,"Cancel",L_MENU_3_5;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "prontera",116,72;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "aldebaran",143,110;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 2100,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_3:
				warp "gef_fild10",52,326;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1700,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_4:
				warp "mjolnir_02",79,361;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,120,62,1,0x0000FF;
				viewpoint 1,203,123,2,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,120,62,1,0x0000FF;
				viewpoint 2,203,123,2,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_03",255;
		close;
}

geffen.gat,203,123,4	script	"Kafra Personnel"	114,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"End",L_MENU_7;
	L_MENU_1:
		menu "Save outside town",-,"Save inside town",L_MENU_1_3;
			save "gef_fild00",55,222;
			goto L_SUB_1_1;
	L_MENU_1_3:
			save "geffen",120,38;
	L_SUB_1_1:
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 30,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 30 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 30,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Prontera -> 1200 z",L_MENU_3_1,"Al de Baran -> 1200 z",L_MENU_3_2,"Orc Dungeon -> 1700 z",L_MENU_3_3,"Coal Mine -> 1700 z",L_MENU_3_4,"Cancel",L_MENU_3_5;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "prontera",116,72;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "aldebaran",143,110;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 2100,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_3:
				warp "gef_fild10",52,326;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1700,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_4:
				warp "mjolnir_02",79,361;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,120,62,1,0x0000FF;
				viewpoint 1,203,123,2,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,120,62,1,0x0000FF;
				viewpoint 2,203,123,2,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_04",255;
		close;
}

morocc.gat,156,97,4	script	"Kafra Personnel"	113,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_05",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"Cancel",L_MENU_7;
	L_MENU_1:
		save "morocc",156,46;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Comodo -> 1800 z",L_MENU_3_0,"Prontera -> 1200 z",L_MENU_3_1,"Payon -> 1200 z",L_MENU_3_2,"Alberta -> 1800 z",L_MENU_3_3,"Paros Lighthouse" -> 1200 z",L_MENU_3_4,"Cancel",L_MENU_3_5;
		L_MENU_3_0:
			check @KAFRA_COUPON = 0,-,L_SUB_3_0;
				check Zeny < 1800,-,L_ROOT_3_0;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_0:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_0:
				warp "comodo",209,143;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "prontera",116,72;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "payon",69,100;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1800,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_3:
				warp "alberta",117,56;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1200,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_4:
				warp "cmd_fild07",127,134;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,160,258,1,0x0000FF;
				viewpoint 1,159,97,2,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,160,258,1,0x0000FF;
				viewpoint 2,159,97,2,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_05",255;
		close;
}

morocc.gat,160,258,4	script	"Kafra Personnel"	114,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"End",L_MENU_7;
	L_MENU_1:
		menu "Save outside town",-,"Save inside town",L_MENU_1_3;
			save "moc_fild07",211,29;
			goto L_SUB_1_1;
	L_MENU_1_3:
			save "morocc",160,283;
	L_SUB_1_1:
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Comodo -> 1800 z",L_MENU_3_0,"Prontera -> 1200 z",L_MENU_3_1,"Payon -> 1200 z",L_MENU_3_2,"Alberta -> 1800 z",L_MENU_3_3,"Paros Lighthouse" -> 1200 z",L_MENU_3_4,"Cancel",L_MENU_3_5;
		L_MENU_3_0:
			check @KAFRA_COUPON = 0,-,L_SUB_3_0;
				check Zeny < 1800,-,L_ROOT_3_0;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_0:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_0:
				warp "comodo",209,143;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "prontera",116,72;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "payon",69,100;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1800,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_3:
				warp "alberta",117,56;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1200,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_4:
				warp "cmd_fild07",127,134;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,160,258,1,0x0000FF;
				viewpoint 1,159,97,2,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,160,258,1,0x0000FF;
				viewpoint 2,159,97,2,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_04",255;
		close;
}

moc_ruins.gat,59,157,4	script	"Kafra Personnel"	117,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_01",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	//menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Locate Kafra Personnels",L_MENU_5,"End",L_MENU_7;
	menu "Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Locate Kafra Personnels",L_MENU_5,"End",L_MENU_7;
//	L_MENU_1:
//		save "moc_ruins",40,144;
//		mes "[Kafra Personnel]";
//		mes "Your position has been saved.";
//		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
//			mes "Thank you for using Kafra.";
//			goto L_EXIT;
//	L_SUB_1_2:
//			next;
//			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 55,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 55 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 55,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_01",255;
		close;
}

alberta.gat,28,229,0	script	"Kafra Personnel"	116,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_02",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Service is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"End",L_MENU_7;
	L_MENU_1:
		menu "Save outside town",-,"Save inside town",L_MENU_1_3;
			save "pay_fild03",387,76;
			goto L_SUB_1_1;
	L_MENU_1_3:
			save "alberta",31,231;
	L_SUB_1_1:
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 50,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 50 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 50,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Payon -> 1200 z",L_MENU_3_1,"Prontera -> 1800 z",L_MENU_3_2,"Morroc -> 1800 z",L_MENU_3_3,"Cancel",L_MENU_3_4;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "payon",69,100;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1800,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_2:
				warp "prontera",116,72;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1800,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_3:
				warp "morocc",156,46;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,28,229,1,0x0000FF;
				viewpoint 1,113,60,2,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,28,229,1,0x0000FF;
				viewpoint 2,113,60,2,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_02",255;
		close;
}

alberta.gat,113,60,6	script	"Kafra Personnel"	112,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_06",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"End",L_MENU_7;
	L_MENU_1:
		save "alberta",117,56;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 50,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 50 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 50,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Payon -> 1200 z",L_MENU_3_1,"Prontera -> 1800 z",L_MENU_3_2,"Morroc -> 1800 z",L_MENU_3_3,"Cancel",L_MENU_3_4;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "payon",69,100;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1800,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_2:
				warp "prontera",116,72;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1800,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_3:
				warp "morocc",156,46;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,28,229,1,0x0000FF;
				viewpoint 1,113,60,2,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,28,229,1,0x0000FF;
				viewpoint 2,113,60,2,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_06",255;
		close;
}

alb2trea.gat,59,69,6	script	"Kafra Personnel"	117,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_01",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Service is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
//	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
	menu "Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
//	L_MENU_1:
//		save "alb2trea",91,63;
//		mes "[Kafra Personnel]";
//		mes "Your position has been saved.";
//		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
//			mes "Thank you for using Kafra.";
//			goto L_EXIT;
//	L_SUB_1_2:
//			next;
//			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 55,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 55 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 55,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_01",255;
		close;
}

payon.gat,99,116,4	script	"Kafra Personnel"	113,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_05",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Service is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
	L_MENU_1:
		menu "Save outside town",-,"Save inside town",L_MENU_1_3;
			save "pay_fild01",342,348;
			goto L_SUB_1_1;
	L_MENU_1_3:
			save "payon",69,100;
	L_SUB_1_1:
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Alberta -> 1200 z",L_MENU_3_1,"Prontera -> 1200 z",L_MENU_3_2,"Morroc -> 1200 z",L_MENU_3_3,"Cancel",L_MENU_3_4;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "alberta",117,56;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "prontera",116,72;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1200,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_3:
				warp "morocc",156,46;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_05",255;
		close;
}

pay_arche.gat,55,123,4	script	"Kafra Personnel"	114,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
//	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
	menu "Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
//	L_MENU_1:
//		save "pay_arche",50,145;
//		mes "[Kafra Personnel]";
//		mes "Your position has been saved.";
//		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
//			mes "Thank you for using Kafra.";
//			goto L_EXIT;
//	L_SUB_1_2:
//			next;
//			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 45,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 45,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_04",255;
		close;
}

cmd_in02.gat,146,180,4	script	"Kafra Personnel"	721,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_07",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Service is always by your";
	mes "side. Also, Kafra Service West Division promises high-quality service with our improved service program.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Collected Points Inquiry",L_MENU_6,"End",L_MENU_7;
	L_MENU_1:
		save "comodo",209,143;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You have Basic Skill level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Paros Lighthouse -> 1200 z",L_MENU_3_1,"Morroc -> 1800 z",L_MENU_3_2,"Cancel",L_MENU_3_3;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "cmd_fild07",127,134;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1800,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1800,0;
				set KF_PIT += 1800;
			L_SUB_3_2:
				warp "morocc",156,46;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you very much.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		mes "[Kafra Personnel]";
		mes "Would you like to know how much points you have accumulated?";
		next;
		menu "Yes, please",-,"No, thanks",L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Right now,";
			check KF_PIT < 200,-,L_ROOT_6_1;
				mes "you have less than 200 points.";
				goto L_SUB_6_1;
		L_ROOT_6_1:
			check KF_PIT < 500,-,L_ROOT_6_2;
				mes "you have more than 200 points, but less than 500.";
				goto L_SUB_6_1;
		L_ROOT_6_2:
			check KF_PIT < 1000,-,L_ROOT_6_3;
				mes "you have more than 500 points, but less than 1000.";
				goto L_SUB_6_1;
		L_ROOT_6_3:
			check KF_PIT < 2000,-,L_ROOT_6_4;
				mes "you have more than 1000 points, but less than 2000.";
				goto L_SUB_6_1;
		L_ROOT_6_4:
				mes "you have more than 2000 points.";
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "The collected points can be exchanged at the Kafra Headquaters for items.";
			mes "The more you use Kafra services, the more items you can obtain.";
			check @KAFRA_COUPON = 0,-,L_SUB_6_2;
			goto L_EXIT;
		L_SUB_6_2:
			next;
			goto L_START_1;
	L_MENU_7:
		next;
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_07",255;
		close;
}

cmd_fild07.gat,136,134,4	script	"Kafra Personnel"	721,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_07",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Service is always by your";
	mes "side. Also, Kafra Service West Division promises high-quality service with our improved service program.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Collected Points Inquiry",L_MENU_6,"End",L_MENU_7;
	L_MENU_1:
		save "cmd_fild07",127,134;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skill level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Comodo -> 1200 z",L_MENU_3_1,"Morroc -> 1200 z",L_MENU_3_2,"Cancel",L_MENU_3_3;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1200,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_1:
				warp "comodo",209,143;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1200,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1200,0;
				set KF_PIT += 120;
			L_SUB_3_2:
				warp "morocc",156,46;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you very much.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		mes "[Kafra Personnel]";
		mes "Would you like to know how much points you have accumulated?";
		next;
		menu "Yes, please",-,"No, thanks",L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Right now,";
			check KF_PIT < 200,-,L_ROOT_6_1;
				mes "you have less than 200 points.";
				goto L_SUB_6_1;
		L_ROOT_6_1:
			check KF_PIT < 500,-,L_ROOT_6_2;
				mes "you have more than 200 points, but less than 500.";
				goto L_SUB_6_1;
		L_ROOT_6_2:
			check KF_PIT < 1000,-,L_ROOT_6_3;
				mes "you have more than 500 points, but less than 1000.";
				goto L_SUB_6_1;
		L_ROOT_6_3:
			check KF_PIT < 2000,-,L_ROOT_6_4;
				mes "you have more than 1000 points, but less than 2000.";
				goto L_SUB_6_1;
		L_ROOT_6_4:
				mes "you have more than 2000 points.";
		L_SUB_6_1:
			next;
			mes "[Kafra Personnel]";
			mes "The collected points can be exchanged at the Kafra Headquaters for items.";
			mes "The more you use Kafra services, the more items you can obtain.";
			check @KAFRA_COUPON = 0,-,L_SUB_6_2;
			goto L_EXIT;
		L_SUB_6_2:
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_07",255;
		close;
}

comodo.gat,195,150,4	script	"Kafra Personnel"	721,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_07",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Service is always by your";
	mes "side. Also, Kafra Service West Division promises high-quality service with our improved service program.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Collected Points Inquiry",L_MENU_6,"End",L_MENU_7;
	L_MENU_1:
		save "comodo",180,151;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skill level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 80,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 80,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Paro's Light -> 800 z",L_MENU_3_1,"Morroc -> 1500 z",L_MENU_3_2,"Cancel",L_MENU_3_3;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 800,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 800,0;
				set KF_PIT += 80;
			L_SUB_3_1:
				warp "cmd_fild07",127,134;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1500,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1500,0;
				set KF_PIT += 150;
			L_SUB_3_2:
				warp "morocc",156,46;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you very much.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		mes "[Kafra Personnel]";
		mes "Would you like to know how much points you have accumulated?";
		next;
		menu "Yes, please",-,"No, thanks",L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Right now,";
			check KF_PIT < 200,-,L_ROOT_6_1;
				mes "you have less than 200 points.";
				goto L_SUB_6_1;
		L_ROOT_6_1:
			check KF_PIT < 500,-,L_ROOT_6_2;
				mes "you have more than 200 points, but less than 500.";
				goto L_SUB_6_1;
		L_ROOT_6_2:
			check KF_PIT < 1000,-,L_ROOT_6_3;
				mes "you have more than 500 points, but less than 1000.";
				goto L_SUB_6_1;
		L_ROOT_6_3:
			check KF_PIT < 2000,-,L_ROOT_6_4;
				mes "you have more than 1000 points, but less than 2000.";
				goto L_SUB_6_1;
		L_ROOT_6_4:
				mes "you have more than 2000 points.";
		L_SUB_6_1:
			next;
			mes "[Kafra Personnel]";
			mes "The collected points can be exchanged at the Kafra Headquaters for items.";
			mes "The more you use Kafra services, the more items you can obtain.";
			check @KAFRA_COUPON = 0,-,L_SUB_6_2;
			goto L_EXIT;
		L_SUB_6_2:
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_07",255;
		close;
}

gef_fild10.gat,72,336,6	script	"Kafra Personnel"	114,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
//	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
	menu "Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
//	L_MENU_1:
//		save "gef_fild10",72,331;
//	L_SUB_1_1:
//		mes "[Kafra Personnel]";
//		mes "Your position has been saved.";
//		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
//			mes "Thank you for using Kafra.";
//			goto L_EXIT;
//	L_SUB_1_2:
//			next;
//			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 30,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 30 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 30,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Geffen -> 900 z",L_MENU_3_4,"Prontera -> 1400 z",L_MENU_3_1,"Izlude -> 1800 z",L_MENU_3_2,"Alde Baran -> 2100 z",L_MENU_3_3,"Cancel",L_MENU_3_5;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 1400,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 1400,0;
				set KF_PIT += 140;
			L_SUB_3_1:
				warp "prontera",116,72;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1800,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_2:
				warp "izlude",91,105;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 2100,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 2100,0;
				set KF_PIT += 210;
			L_SUB_3_3:
				warp "aldebaran",143,110;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 900,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 900,0;
				set KF_PIT += 220;
			L_SUB_3_4:
				warp "geffen",120,39;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_04",255;
		close;
}
umbala.gat,128,133,4	script	"Kafra Personnel"	114,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Services is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Locate Kafra Personnels",L_MENU_6,"Quit",L_MENU_7;
	L_MENU_1:
		save "umbala",126,131;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
			getskilllevel 1,@skilllv_basic; 
			check @skilllv_basic => 6,L_SUB_2_1,-; 
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Izlude -> 900 z",L_MENU_3_1,"Geffen -> 1400 z",L_MENU_3_2,"Payon -> 1700 z",L_MENU_3_3,"Morroc -> 1800 z",L_MENU_3_4,"Comodo -> 2000 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 900,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 900,0;
				set KF_PIT += 90;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1400,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1400,0;
				set KF_PIT += 140;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1700,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1800,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 2000,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 2000,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "comodo",209,143;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Would you like to mark the locations on your mini map?";
			next;
			menu "Yes",-,"No",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
			mes "[Kafra Personnel]";
			mes "Kafra personnels are located at";
			mes "the red indications on your mini map.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_04",255;
		close;
}

amatsu.gat,102,149,5	script	"Kafra Personnel"	116,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_02",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Service is always by your side.";
	mes "Also, Kafra Service promises high-quality service with our improved service program.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage Service",L_MENU_2,"Teleport Service",L_MENU_3,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"Collected Points Inquiry",L_MENU_6,"End",L_MENU_7;
	L_MENU_1:
		save "amatsu",106,147;
		mes "[Kafra Personnel]";
		mes "Your position has been saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skill level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 80,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 80,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please pick your destination.";
		next;
		menu "Prontera -> 800 z",L_MENU_3_1,"Cancel",L_MENU_3_3;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 800,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
					mes "You don't have enough money.";
					mes "Please verify the amount of money you have.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 800,0;
				set KF_PIT += 80;
			L_SUB_3_1:
				warp "prontera",158,183;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you very much.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_6:
		mes "[Kafra Personnel]";
		mes "Would you like to know how much points you have accumulated?";
		next;
		menu "Yes, please",-,"No, thanks",L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Right now,";
			check KF_PIT < 200,-,L_ROOT_6_1;
				mes "you have less than 200 points.";
				goto L_SUB_6_1;
		L_ROOT_6_1:
			check KF_PIT < 500,-,L_ROOT_6_2;
				mes "you have more than 200 points, but less than 500.";
				goto L_SUB_6_1;
		L_ROOT_6_2:
			check KF_PIT < 1000,-,L_ROOT_6_3;
				mes "you have more than 500 points, but less than 1000.";
				goto L_SUB_6_1;
		L_ROOT_6_3:
			check KF_PIT < 2000,-,L_ROOT_6_4;
				mes "you have more than 1000 points, but less than 2000.";
				goto L_SUB_6_1;
		L_ROOT_6_4:
				mes "you have more than 2000 points.";
		L_SUB_6_1:
			next;
			mes "[Kafra Personnel]";
			mes "The collected points can be exchanged at the Kafra Headquaters for items.";
			mes "The more you use Kafra services, the more items you can obtain.";
			check @KAFRA_COUPON = 0,-,L_SUB_6_2;
			goto L_EXIT;
		L_SUB_6_2:
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_02",255;
		close;
}
yuno.gat,151,187,4	script	Kafra Personnel	115,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome to Kafra Corp.";
	mes "We will stay with you";
	mes "wherever you go.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How can I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage",L_MENU_2,"Use Teleport Service",L_MENU_3,"Rent a Cart",L_MENU_4,"Use Kafra Pass",L_MENU_5,"Other Information Check",L_MENU_6,"Cancel",L_MENU_7;
	L_MENU_1:
		save "yuno",157,207;
		mes "[Kafra Personnel]";
		mes "Your respawn point has saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra Services.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "I am sorry but you have to be at least";
			mes "Novice level 6 if you want to use the storage.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "Dear. you don't have enough Money.";
				mes "The Storage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please choose the destination.";
		next;
		menu "Izlude -> 2000 z",L_MENU_3_1,"Geffen -> 1400 z",L_MENU_3_2,"Payon -> 1700 z",L_MENU_3_3,"Morroc -> 1800 z",L_MENU_3_4,"Comodo -> 2000 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 2000,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 2000,0;
				set KF_PIT += 90;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1400,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1400,0;
				set KF_PIT += 140;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1700,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1800,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 2000,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 2000,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "comodo",209,143;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
		   	mes "[Kafra Personnel]";
			mes "In use of present or Kafra Pass";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
   			   	mes "[Kafra Personnel]";
		   		mes "Dear you need at least 1 passport.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
	   		mes "[Kafra Personnel]";
			mes "Now you are using a Kapra's passport.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Do you want to show all Kafra being displayed on the mini map ?";
			next;
			menu "yes.",-,"no.",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
   			mes "[Kafra Personnel]";
		   	mes "It is a mini map display point.";
		   	mes "Kafra is.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "coupler [ us ] service being more perfect";
		mes "-- service and management business -- aiming --";
		mes "-- a visitor can use in comfort -- as --";
		mes "-- it is always doing its -- best --";
		mes "-- you use coupler service -- obtaining --";
		mes "Thank you.";
 L_EXIT:
		cutin "kafra_01",255;
		close;
}
yuno.gat,328,108,6	script	"Kafra Personnel"	117,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome to Kafra Corp.";
	mes "We will stay with you";
	mes "wherever you go.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How can I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage",L_MENU_2,"Use Teleport Service",L_MENU_3,"Rent a Cart",L_MENU_4,"Use Kafra Pass",L_MENU_5,"Other Information Check",L_MENU_6,"Cancel",L_MENU_7;
	L_MENU_1:
		save "yuno",157,207;
		mes "[Kafra Personnel]";
		mes "Your respawn point has saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra Services.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "I am sorry but you have to be at least";
			mes "Novice level 6 if you want to use the storage.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "Dear. you don't have enough Money.";
				mes "The Storage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please choose the destination.";
		next;
		menu "Izlude -> 2000 z",L_MENU_3_1,"Geffen -> 1400 z",L_MENU_3_2,"Payon -> 1700 z",L_MENU_3_3,"Morroc -> 1800 z",L_MENU_3_4,"Comodo -> 2000 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 2000,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 2000,0;
				set KF_PIT += 90;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1400,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1400,0;
				set KF_PIT += 140;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1700,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1800,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 2000,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 2000,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "comodo",209,143;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
		   	mes "[Kafra Personnel]";
			mes "In use of present or Kafra Pass";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
   			   	mes "[Kafra Personnel]";
		   		mes "Dear you need at least 1 passport.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
	   		mes "[Kafra Personnel]";
			mes "Now you are using a Kapra's passport.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Do you want to show all Kafra being displayed on the mini map ?";
			next;
			menu "yes.",-,"no.",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
   			mes "[Kafra Personnel]";
		   	mes "It is a mini map display point.";
		   	mes "Kafra is.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "coupler [ us ] service being more perfect";
		mes "-- service and management business -- aiming --";
		mes "-- a visitor can use in comfort -- as --";
		mes "-- it is always doing its -- best --";
		mes "-- you use coupler service -- obtaining --";
		mes "Thank you.";
 L_EXIT:
		cutin "kafra_01",255;
		close;
}
yuno.gat,278,221,6	script	"Kafra Personnel"	117,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_04",2;
	mes "[Kafra Personnel]";
	mes "Welcome to Kafra Corp.";
	mes "We will stay with you";
	mes "wherever you go.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How can I help you?";
		next;
 L_SUB_0_1:
	menu "Save",L_MENU_1,"Storage",L_MENU_2,"Use Teleport Service",L_MENU_3,"Rent a Cart",L_MENU_4,"Use Kafra Pass",L_MENU_5,"Other Information Check",L_MENU_6,"Cancel",L_MENU_7;
	L_MENU_1:
		save "yuno",157,207;
		mes "[Kafra Personnel]";
		mes "Your respawn point has saved.";
		check @KAFRA_COUPON = 0,-,L_SUB_1_2;
			mes "Thank you for using Kafra Services.";
			goto L_EXIT;
	L_SUB_1_2:
			next;
			goto L_START_1;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "I am sorry but you have to be at least";
			mes "Novice level 6 if you want to use the storage.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 40,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "Dear. you don't have enough Money.";
				mes "The Storage fee is 40 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 40,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_3:
		mes "[Kafra Personnel]";
		mes "Please choose the destination.";
		next;
		menu "Izlude -> 2000 z",L_MENU_3_1,"Geffen -> 1400 z",L_MENU_3_2,"Payon -> 1700 z",L_MENU_3_3,"Morroc -> 1800 z",L_MENU_3_4,"Comodo -> 2000 z",L_MENU_3_4a,"Orc Dungeon -> 1700 z",L_MENU_3_5,"Cancel",L_MENU_3_6;
		L_MENU_3_1:
			check @KAFRA_COUPON = 0,-,L_SUB_3_1;
				check Zeny < 2000,-,L_ROOT_3_1;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_1:
				set Zeny -= 2000,0;
				set KF_PIT += 90;
			L_SUB_3_1:
				warp "izlude",91,105;
		L_MENU_3_2:
			check @KAFRA_COUPON = 0,-,L_SUB_3_2;
				check Zeny < 1400,-,L_ROOT_3_2;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_2:
				set Zeny -= 1400,0;
				set KF_PIT += 140;
			L_SUB_3_2:
				warp "geffen",120,39;
		L_MENU_3_3:
			check @KAFRA_COUPON = 0,-,L_SUB_3_3;
				check Zeny < 1700,-,L_ROOT_3_3;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_3:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_3:
				warp "payon",69,100;
		L_MENU_3_4:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4;
				check Zeny < 1800,-,L_ROOT_3_4;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4:
				set Zeny -= 1800,0;
				set KF_PIT += 180;
			L_SUB_3_4:
				warp "morocc",156,46;
		L_MENU_3_4a:
			check @KAFRA_COUPON = 0,-,L_SUB_3_4a;
				check Zeny < 2000,-,L_ROOT_3_4a;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_4a:
				set Zeny -= 2000,0;
				set KF_PIT += 180;
			L_SUB_3_4a:
				warp "comodo",209,143;
		L_MENU_3_5:
			check @KAFRA_COUPON = 0,-,L_SUB_3_5;
				check Zeny < 1700,-,L_ROOT_3_5;
					mes "[Kafra Personnel]";
  					mes "Dear. you don't have enough Money.";
   					mes "Please check again.";
					goto L_EXIT;
			L_ROOT_3_5:
				set Zeny -= 1700,0;
				set KF_PIT += 170;
			L_SUB_3_5:
				warp "gef_fild10",52,326;
		L_MENU_3_6:
			check @KAFRA_COUPON = 0,-,L_START_1;
				mes "[Kafra Personnel]";
				mes "Thank you.";
				mes "Please come again.";
				goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
		   	mes "[Kafra Personnel]";
			mes "In use of present or Kafra Pass";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
   			   	mes "[Kafra Personnel]";
		   		mes "Dear you need at least 1 passport.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
	   		mes "[Kafra Personnel]";
			mes "Now you are using a Kapra's passport.";
			next;
			goto L_START_1;
	L_MENU_6:
		check @COMPASS_CHECK = 0,-,L_SUB_6_1;
			mes "[Kafra Personnel]";
			mes "Do you want to show all Kafra being displayed on the mini map ?";
			next;
			menu "yes.",-,"no.",L_SUB_6_1;
				set @COMPASS_CHECK = 1;
		L_SUB_6_1:
   			mes "[Kafra Personnel]";
		   	mes "It is a mini map display point.";
		   	mes "Kafra is.";
			check @COMPASS_CHECK = 1,-,L_SUB_6_2;
				viewpoint 1,146,89,1,0x0000FF;
				viewpoint 1,282,200,2,0x0000FF;
				viewpoint 1,151,29,3,0x0000FF;
				viewpoint 1,29,207,4,0x0000FF;
				goto L_SUB_6_3;
		L_SUB_6_2:
				viewpoint 2,146,89,1,0x0000FF;
				viewpoint 2,282,200,2,0x0000FF;
				viewpoint 2,151,29,3,0x0000FF;
				viewpoint 2,29,207,4,0x0000FF;
		L_SUB_6_3:
			check @KAFRA_COUPON = 0,-,L_SUB_6_4;
				goto L_EXIT;
		L_SUB_6_4:
				next;
				goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "coupler [ us ] service being more perfect";
		mes "-- service and management business -- aiming --";
		mes "-- a visitor can use in comfort -- as --";
		mes "-- it is always doing its -- best --";
		mes "-- you use coupler service -- obtaining --";
		mes "Thank you.";
 L_EXIT:
		cutin "kafra_01",255;
		close;
}

mjolnir_02.gat,82,362,6	script	"Kafra Personnel"	116,{
	set @KAFRA_COUPON = 0;
	cutin "kafra_02",2;
	mes "[Kafra Personnel]";
	mes "Welcome.";
	mes "Kafra Service is always by your side.";
	next;
 L_START_1:
	check @KAFRA_COUPON = 1,-,L_SUB_0_1;
		mes "[Kafra Personnel]";
		mes "How may I help you?";
		next;
 L_SUB_0_1:
	menu "Storage Service",L_MENU_2,"Cart Rental Service",L_MENU_4,"Use Kafra Coupon",L_MENU_5,"End",L_MENU_7;
	L_MENU_2:
		check Job > 0,L_SUB_2_1,-;
		check JobLevel < 6,-,L_SUB_2_1;
			mes "[Kafra Personnel]";
			mes "You need to have Basic Skills level 6";
			mes "in order to use the storage service.";
			check @KAFRA_COUPON = 0,-,L_ROOT_2_1;
				goto L_EXIT;
		L_ROOT_2_1:
				next;
				goto L_START_1;
	L_SUB_2_1:
		check @KAFRA_COUPON = 0,-,L_SUB_2_2;
			check Zeny < 55,-,L_ROOT_2_2;
				mes "[Kafra Personnel]";
				mes "You don't have enough money.";
				mes "The storage usage fee is 55 Zeny.";
				goto L_EXIT;
		L_ROOT_2_2:
			set Zeny -= 55,0;
			store;
			goto L_EXIT;
	L_SUB_2_2:
		store;
		goto L_EXIT;
	L_MENU_4:
		check Job != 5,-,L_SUB_4_1;
		check Job != 10,-,L_SUB_4_1;
		check Job != 18,-,L_SUB_4_1;
			mes "[Kafra Personnel]";
			mes "I am sorry.";
			mes "The Cart service is only provided for";
			mes "Merchant, Blacksmith, and Alchemist classes.";
			check @KAFRA_COUPON = 0,-,L_ROOT_4_1;
				goto L_EXIT;
			L_ROOT_4_1:
				next;
				goto L_START_1;
		L_SUB_4_1:
			check @KAFRA_COUPON = 0,-,L_SUB_4_2;
				mes "[Kafra Personnel]";
	   			mes "The Cart Fee is 800 Zeny.";
	    	   		mes "To rent a cart";
				next;
   				menu "Rent a Cart.",L_MENU_4_1,"Cancel",L_MENU_4_2;
		L_MENU_4_1:
				getskilllevel 39,@skilllv_pushcart; 
				check @skilllv_pushcart => 1,-,L_skill;
				check Zeny < 800,-,L_ROOT_4_2; 
        	 		mes "[Kafra Personnel]";
       				mes "Dear. you don't have enough Money.";
	       			mes "The Cart Fee is 800 Zeny.";
				goto L_EXIT;
		L_skill:
				mes "You do not have the skill PushCart.";
				mes "You can't get a cart without that."
				goto L_EXIT;
		L_ROOT_4_2:
				set Zeny -= 800,0;
				check option == 0,-,L_MENU_4_3;
				option 0,1;
				goto L_EXIT;
		L_MENU_4_2:
				mes "[Kafra Personnel]";
  				mes "Thank you.";
   				mes "Please come again.";
				goto L_EXIT;
		L_MENU_4_3:
				mes "[Kafra Personnel]";
				mes "Sorry you already have a cart.";
				next;
				goto L_EXIT;
		L_SUB_4_2:
			check option == 0,-,L_MENU_4_3;
			option 0,1;
			goto L_START_1;
	L_MENU_5:
		check @KAFRA_COUPON = 1,-,L_ROOT_5_1;
			mes "[Kafra Personnel]";
			mes "You are now using a Kafra Coupon.";
			next;
			goto L_START_1;
		L_ROOT_5_1:
			checkitem 1084,1,L_SUB_5_1,-;
				mes "[Kafra Personnel]";
				mes "You need a Kafra Coupon.";
				goto L_EXIT;
		L_SUB_5_1:
			delitem 1084,1;
			set @KAFRA_COUPON = 1;
			mes "[Kafra Personnel]";
			mes "You have used your Kafra Coupon.";
			next;
			goto L_START_1;
	L_MENU_7:
		mes "[Kafra Personnel]";
		mes "We strive for perfection in our service.";
		mes "Rest assured that Kafra Corporation will always be there to help you.";
		mes "Thank you for your business.";
 L_EXIT:
		cutin "kafra_02",255;
		close;
}